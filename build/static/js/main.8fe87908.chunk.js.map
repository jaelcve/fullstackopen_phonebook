{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/RemovePerson.js","components/Notification.js","App.js","index.js"],"names":["Filter","handleChange","name","text","value","onChange","PersonForm","handleSubmit","number","handleNamechange","handleNumberChange","onSubmit","type","Persons","person","baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","RemovePerson","handleClick","onClick","Notification","message","isError","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","getName","searchByName","setMessage","setError","useEffect","servicePersons","initialPersons","catch","error","displayMessage","console","log","createPerson","personObject","returnedPerson","concat","updatePerson","find","map","filter","setTimeout","personsToShow","toUpperCase","indexOf","event","target","preventDefault","hasDuplicates","some","length","alert","window","confirm","personDel","ReactDOM","render","document","getElementById"],"mappings":"wJAWeA,EATA,SAAC,GAAgC,IAA/BC,EAA8B,EAA9BA,aAAcC,EAAgB,EAAhBA,KAAMC,EAAU,EAAVA,KACjC,OACI,gCACCA,EADD,KACQ,uBAAOC,MAAOF,EACpBG,SAAUJ,QCeLK,EAnBI,SAAC,GAAwE,IAAvEC,EAAsE,EAAtEA,aAAcL,EAAwD,EAAxDA,KAAMM,EAAkD,EAAlDA,OAAQC,EAA0C,EAA1CA,iBAAkBC,EAAwB,EAAxBA,mBAC/D,OACI,uBAAMC,SAAUJ,EAAhB,UACA,yCACQ,uBAAOH,MAAOF,EAClBG,SAAUI,OAEd,2CACU,uBAAOL,MAAOI,EACpBH,SAAUK,OAEd,8BACE,wBAAQE,KAAK,SAAb,uBCHKC,EATC,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OAEf,OACI,gCACKA,EAAOZ,KADZ,IACmBY,EAAON,W,gBCL5BO,EAAU,eAsBD,EApBA,WAEX,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB9B,EAfA,SAAAC,GAEX,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa9B,EAVA,SAAAG,GAEX,OADgBP,IAAMQ,OAAN,UAAgBT,EAAhB,YAA2BQ,IAC5BL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ9B,EALA,SAACG,EAAIF,GAEhB,OADgBL,IAAMS,IAAN,UAAaV,EAAb,YAAwBQ,GAAMF,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCR9BM,EAVM,SAAC,GAAkB,IAAjBC,EAAgB,EAAhBA,YACnB,OACI,+BACI,wBAAQC,QAASD,EAAjB,uBCsCGE,EAzCM,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,QAASC,EAAc,EAAdA,QAsB7B,OAAgB,OAAZD,EACO,KAGPC,EAEI,qBAAKC,MA1BQ,CACjBC,MAAO,MACPC,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,IAmBV,SACKT,IAKL,qBAAKE,MAtBU,CACnBC,MAAO,QACPC,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,IAeV,SACKT,KCuGFU,EAnIH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTC,EADS,KACAC,EADA,OAGcF,mBAAS,IAHvB,mBAGTG,EAHS,KAGAC,EAHA,OAIkBJ,mBAAS,IAJ3B,mBAITK,EAJS,KAIEC,EAJF,OAKgBN,mBAAS,IALzB,mBAKTO,EALS,KAKAC,EALA,OAMcR,mBAAS,MANvB,mBAMTX,EANS,KAMAoB,EANA,OAOYT,oBAAS,GAPrB,mBAOTV,EAPS,KAOAoB,EAPA,KAShBC,qBAAU,WACRC,IACGnC,MAAK,SAAAoC,GAAc,OAClBX,EAAWW,MACZC,OAAM,SAAAC,GACLC,EAAe,wBAAwB,GACvCC,QAAQC,IAAI,QAASH,EAAMrC,SAASC,WAEvC,IAEH,IAuBMwC,EAAe,SAACC,GACpBR,EAAsBQ,GACnB3C,MAAK,SAAA4C,GACJJ,QAAQC,IAAI,MAAOG,GACnBnB,EAAWD,EAAQqB,OAAOD,IAC1BL,EAAe,SAAD,OAAUK,EAAe5D,OAAQ,MAC9CqD,OAAM,SAAAC,GACPC,EAAeD,EAAMrC,SAASC,KAAKoC,OAAO,GAC1CE,QAAQC,IAAI,QAASH,EAAMrC,SAASC,KAAKoC,WAIzCQ,EAAe,SAACH,GACpB,IAAMG,EAAetB,EAAQuB,MAAK,SAAAnD,GAAM,OAAIA,EAAOZ,OAAS2D,EAAa3D,QACzEmD,EAAsBW,EAAazC,GAAIsC,GACpC3C,MAAK,SAAA4C,GACJnB,EAAWD,EAAQwB,KAAI,SAAApD,GAAM,OAAIA,EAAOS,KAAOyC,EAAazC,GAAKT,EAASgD,MAC1EL,EAAe,WAAD,OAAYK,EAAe5D,OAAQ,MAElDqD,OAAM,SAAAC,GACLb,EAAWD,EAAQyB,QAAO,SAAArD,GAAM,OAAIA,EAAOS,KAAOyC,EAAazC,OAC/DkC,EAAe,kBAAD,OAAmBI,EAAa3D,KAAhC,4BAA+D,GAC7EwD,QAAQC,IAAI,QAASH,EAAMrC,SAASC,UAkBpCqC,EAAiB,SAAC3B,EAASC,GAC/BmB,EAAWpB,GACXqB,EAASpB,GACTqC,YAAW,WACTlB,EAAW,QACV,MAGCmB,EAAgBrB,EACpBN,EAAQyB,QAAO,SAAArD,GAAM,OAAkE,IAA9DA,EAAOZ,KAAKoE,cAAcC,QAAQvB,EAAQsB,kBACnE5B,EAcF,OACE,gCACE,cAAC,EAAD,CAAcZ,QAASA,EAASC,QAASA,IACzC,2CACA,cAAC,EAAD,CAAQ7B,KAAM8C,EAAS/C,aARI,SAACuE,GAC9BvB,EAAauB,EAAMC,OAAOrE,QAOqCD,KAAK,sBAElE,2CAEA,cAAC,EAAD,CAAYI,aA/FE,SAACiE,GACjBA,EAAME,iBACN,IAAMb,EAAe,CACnB3D,KAAM0C,EACNpC,OAAQsC,GAGJ6B,EAAgBjC,EAAQkC,MAAK,SAAA9D,GAAM,OAAIA,EAAOZ,OAAS0C,KAE5B,IAA7BiB,EAAa3D,KAAK2E,QAA+C,IAA/BhB,EAAarD,OAAOqE,OACxDC,MAAM,wCAEFH,EACEI,OAAOC,QAAP,UAAkBpC,EAAlB,4EACFoB,EAAaH,GAEfD,EAAaC,GAGjBhB,EAAW,IACXE,EAAa,KA2E0B7C,KAAM0C,EACzCpC,OAAQsC,EAAWrC,iBArBG,SAAC+D,GAC3B3B,EAAW2B,EAAMC,OAAOrE,QAqBpBM,mBAlBwB,SAAC8D,GAC7BzB,EAAayB,EAAMC,OAAOrE,UAmBxB,yCAECiE,EAAcH,KAAI,SAAApD,GAAM,OACvB,iCACE,cAAC,EAAD,CAASA,OAAQA,IACjB,cAAC,EAAD,CAAcA,OAAQA,EAAQa,YAAa,kBAvD9BsD,EAuDiDnE,OAtDhEiE,OAAOC,QAAP,iBAAyBC,EAAU/E,KAAnC,QACFmD,EAAsB4B,EAAU1D,IAC7BL,MAAK,SAAA4C,GAC0B,IAA1BA,EAAee,QACjBlC,EAAWD,EAAQyB,QAAO,SAAArD,GAAM,OAAIA,EAAOS,KAAO0D,EAAU1D,OAC9DkC,EAAe,WAAD,OAAYwB,EAAU/E,OAAQ,MAC3CqD,OAAM,SAAAC,GACPC,EAAe,kBAAD,OAAmBwB,EAAU/E,KAA7B,0CAA0E,GACxFwD,QAAQC,IAAI,QAASH,EAAMrC,SAASC,UATvB,IAAA6D,OAqDJnE,EAAOZ,aC/H1BgF,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.8fe87908.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({handleChange, name, text}) => {\r\n    return (\r\n        <div>\r\n        {text}: <input value={name}\r\n          onChange={handleChange} />\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({handleSubmit, name, number, handleNamechange, handleNumberChange}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n        <div>\r\n          name: <input value={name}\r\n            onChange={handleNamechange} />\r\n        </div>\r\n        <div>\r\n          number: <input value={number}\r\n            onChange={handleNumberChange} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({ person }) => {\r\n\r\n    return (\r\n        <div>\r\n            {person.name} {person.number}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, remove, update }","import React from 'react'\r\n\r\nconst RemovePerson = ({handleClick}) =>{\r\n    return (\r\n        <span>\r\n            <button onClick={handleClick}>\r\n                delete\r\n            </button>\r\n        </span>\r\n    )\r\n}\r\n\r\nexport default RemovePerson","import React from 'react'\r\n\r\nconst Notification = ({ message, isError }) => {\r\n\r\n    const errorMessage = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n    const successMessage = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    if (isError) {\r\n        return (\r\n            <div style={errorMessage}>\r\n                {message}\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div style={successMessage}>\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Notification","import React, { useEffect, useState } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport servicePersons from './services/persons'\nimport RemovePerson from './components/RemovePerson'\nimport Notification from './components/Notification'\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([\n  ])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [getName, searchByName] = useState('')\n  const [message, setMessage] = useState(null);\n  const [isError, setError] = useState(false);\n\n  useEffect(() => {\n    servicePersons.getAll()\n      .then(initialPersons =>\n        setPersons(initialPersons))\n      .catch(error => {\n        displayMessage(`Could not initialize`, true)\n        console.log('error', error.response.data)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    const hasDuplicates = persons.some(person => person.name === newName);\n\n    if (personObject.name.length === 0 || personObject.number.length === 0) {\n      alert('Please enter a name and phone number')\n    } else {\n      if (hasDuplicates) {\n        if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`))\n          updatePerson(personObject)\n      } else {\n        createPerson(personObject)\n      }\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const createPerson = (personObject) => {\n    servicePersons.create(personObject)\n      .then(returnedPerson => {\n        console.log('ret', returnedPerson)\n        setPersons(persons.concat(returnedPerson))\n        displayMessage(`added ${returnedPerson.name}`, false)\n      }).catch(error => {\n        displayMessage(error.response.data.error, true)\n        console.log('error', error.response.data.error)\n      })\n  }\n\n  const updatePerson = (personObject) => {\n    const updatePerson = persons.find(person => person.name === personObject.name);\n    servicePersons.update(updatePerson.id, personObject)\n      .then(returnedPerson => {\n        setPersons(persons.map(person => person.id !== updatePerson.id ? person : returnedPerson))\n        displayMessage(`updated ${returnedPerson.name}`, false)\n      })\n      .catch(error => {\n        setPersons(persons.filter(person => person.id !== updatePerson.id))\n        displayMessage(`Information of ${personObject.name} has not been not found`, true)\n        console.log('error', error.response.data)\n      })\n  }\n\n  const removePerson = personDel => {\n    if (window.confirm(`Delete ${personDel.name} ?`)) {\n      servicePersons.remove(personDel.id)\n        .then(returnedPerson => {\n          if (returnedPerson.length === 0)\n            setPersons(persons.filter(person => person.id !== personDel.id));\n          displayMessage(`removed ${personDel.name}`, false)\n        }).catch(error => {\n          displayMessage(`Information of ${personDel.name} has already been removed from server`, true)\n          console.log('error', error.response.data)\n        })\n    }\n  }\n\n  const displayMessage = (message, isError) => {\n    setMessage(message)\n    setError(isError)\n    setTimeout(() => {\n      setMessage(null)\n    }, 5000)\n  }\n\n  const personsToShow = getName ?\n    persons.filter(person => person.name.toUpperCase().indexOf(getName.toUpperCase()) !== -1) :\n    persons;\n\n  const handleNewNameChange = (event) => {\n    setNewName(event.target.value);\n  }\n\n  const handleNewNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchNameChange = (event) => {\n    searchByName(event.target.value)\n  }\n\n  return (\n    <div>\n      <Notification message={message} isError={isError} />\n      <h2>Phonebook</h2>\n      <Filter name={getName} handleChange={handleSearchNameChange} text=\"filter shown with\" />\n\n      <h3>add a new</h3>\n\n      <PersonForm handleSubmit={addPerson} name={newName}\n        number={newNumber} handleNamechange={handleNewNameChange}\n        handleNumberChange={handleNewNumberChange} />\n\n      <h3>Numbers</h3>\n\n      {personsToShow.map(person =>\n        <span key={person.name}>\n          <Persons person={person} />\n          <RemovePerson person={person} handleClick={() => removePerson(person)} />\n        </span>\n      )}\n\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}